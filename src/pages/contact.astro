---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout title="Contact Us">
    <main>
        

        <section class="section">
            <div class="container contact-section-grid">
                <div class="contact-section-image">
                    <img src="/img/unnamed.png" alt="A professional woman ready to help">
                </div>
                <div class="contact-section-form">
                    <h3>Send us a Message</h3>
                    <p>Fill out the form, and our team will get back to you within 24 hours.</p>
                    
                    <form id="contact-page-form" action="https://formspree.io/f/YOUR_UNIQUE_CODE" method="POST">
                        <div class="form-group">
                            <label for="contact-name">Full Name*</label>
                            <input type="text" id="contact-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-email">Email Address*</label>
                            <input type="email" id="contact-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-message">Message*</label>
                            <textarea id="contact-message" name="message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="button secondary" style="width: 100%;">Send Message</button>
                        <p class="form-status" id="contact-form-status"></p>
                    </form>
                    
                    <div class="direct-contact">
                        <h4>Or Contact Us Directly</h4>
                        <p><strong>Email:</strong> <a href="mailto:lindiwe@linkedme.co.za">info@techbridge.io</a></p>
                        <p><strong>Phone:</strong> (+27) 10 595 8522</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const contactPageForm = document.getElementById('contact-page-form');
        if (contactPageForm) {
            contactPageForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const status = document.getElementById('contact-form-status');
                const data = new FormData(e.target);

                try {
                    const response = await fetch(e.target.action, {
                        method: 'POST',
                        body: data,
                        headers: { 'Accept': 'application/json' }
                    });

                    if (response.ok) {
                        status.textContent = "Thanks for your message! We'll be in touch soon.";
                        status.style.color = '#20b082'; // Success Green
                        contactPageForm.reset();
                    } else {
                        status.textContent = 'Oops! There was a problem submitting your form.';
                        status.style.color = '#e55649'; // Error Red
                    }
                } catch (error) {
                    status.textContent = 'Oops! There was a problem submitting your form.';
                    status.style.color = '#e55649';
                }
            });
        }
    </script>
</BaseLayout>